{"ast":null,"code":"var _jsxFileName = \"/scale_wlg_persistent/filesets/project/nesi99999/Callum/jupyter-matlab-proxy/gui/src/components/Information/index.js\",\n    _s = $RefreshSig$();\n\n// Copyright 2020 The MathWorks, Inc.\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport Linkify from 'react-linkify';\nimport { selectLicensingInfo, selectError, selectOverlayHidable, selectInformationDetails } from '../../selectors';\nimport './Information.css';\n\nfunction Information({\n  closeHandler,\n  children\n}) {\n  _s();\n\n  const licensingInfo = useSelector(selectLicensingInfo);\n  const error = useSelector(selectError);\n  const overlayHidable = useSelector(selectOverlayHidable);\n  const [errorLogsExpanded, setErrorLogsExpanded] = useState(false);\n\n  const errorLogsExpandedToggle = () => {\n    setErrorLogsExpanded(!errorLogsExpanded);\n  };\n\n  let info;\n\n  switch (licensingInfo === null || licensingInfo === void 0 ? void 0 : licensingInfo.type) {\n    case \"MHLM\":\n      info = {\n        label: `Online License Manager (${licensingInfo.emailAddress})`\n      };\n      break;\n\n    case \"NLM\":\n      info = {\n        label: `Network License Manager (${licensingInfo.connectionString})`\n      };\n      break;\n\n    default:\n      info = {\n        label: 'None'\n      };\n  }\n\n  const details = useSelector(selectInformationDetails);\n  const errorMessageNode = error ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"error-container alert alert-danger\"\n  }, /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"strong\", null, \"Error\")), /*#__PURE__*/React.createElement(Linkify, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"error-text\"\n  }, error.message))) : null;\n  const errorLogsNode = error && error.logs !== null && error.logs.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"expand_collapse error-logs-container\"\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: `expand_trigger ${errorLogsExpanded ? 'expanded' : 'collapsed'}`,\n    onClick: errorLogsExpandedToggle\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"icon-arrow-open-down\"\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"icon-arrow-open-right\"\n  }), \"Error logs\"), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"error-logs\",\n    className: `expand_target error-container alert alert-danger ${errorLogsExpanded ? 'expanded' : 'collapsed'}`,\n    \"aria-expanded\": errorLogsExpanded\n  }, /*#__PURE__*/React.createElement(Linkify, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"error-msg\"\n  }, error.logs.join('\\n').trim())))) : null;\n\n  const onCloseClick = event => {\n    if (event.target === event.currentTarget) {\n      event.preventDefault();\n      closeHandler();\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal show\",\n    id: \"information\",\n    onClick: overlayHidable ? onCloseClick : null,\n    tabIndex: \"-1\",\n    role: \"dialog\",\n    \"aria-labelledby\": \"information-dialog-title\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-dialog modal-dialog-centered\",\n    role: \"document\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `modal-content alert alert-${details.alert}`\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-header\"\n  }, overlayHidable && /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"close\",\n    \"data-dismiss\": \"modal\",\n    \"aria-label\": \"Close\",\n    onClick: closeHandler\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": \"true\"\n  }, \"\\xD7\")), /*#__PURE__*/React.createElement(\"span\", {\n    className: `alert_icon icon-alert-${details.icon}`\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"modal-title alert_heading\",\n    id: \"information-dialog-title\"\n  }, \"Status Information\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-body\"\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"details\"\n  }, /*#__PURE__*/React.createElement(\"tbody\", null, /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"td\", null, \"MATLAB Status:\"), /*#__PURE__*/React.createElement(\"td\", null, /*#__PURE__*/React.createElement(\"span\", {\n    id: \"spinner\",\n    className: details.spinner ? 'show' : 'hidden'\n  }), details.label)), /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"td\", null, \"Licensing:\"), /*#__PURE__*/React.createElement(\"td\", null, info.label)))), errorMessageNode, errorLogsNode), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-footer\"\n  }, children))));\n}\n\n_s(Information, \"NJUlZc8aD85o+KYKg7JqLTGUZUw=\", false, function () {\n  return [useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = Information;\nInformation.propTypes = {\n  closeHandler: PropTypes.func.isRequired\n};\nexport default Information;\n\nvar _c;\n\n$RefreshReg$(_c, \"Information\");","map":{"version":3,"sources":["/scale_wlg_persistent/filesets/project/nesi99999/Callum/jupyter-matlab-proxy/gui/src/components/Information/index.js"],"names":["React","useState","PropTypes","useSelector","Linkify","selectLicensingInfo","selectError","selectOverlayHidable","selectInformationDetails","Information","closeHandler","children","licensingInfo","error","overlayHidable","errorLogsExpanded","setErrorLogsExpanded","errorLogsExpandedToggle","info","type","label","emailAddress","connectionString","details","errorMessageNode","message","errorLogsNode","logs","length","join","trim","onCloseClick","event","target","currentTarget","preventDefault","alert","icon","spinner","propTypes","func","isRequired"],"mappings":"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","sourcesContent":["// Copyright 2020 The MathWorks, Inc.\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport Linkify from 'react-linkify';\nimport {\n    selectLicensingInfo,\n    selectError,\n    selectOverlayHidable,\n    selectInformationDetails\n} from '../../selectors';\nimport './Information.css';\n\nfunction Information({\n    closeHandler,\n    children\n}) {\n    const licensingInfo = useSelector(selectLicensingInfo);\n    const error = useSelector(selectError);\n    const overlayHidable = useSelector(selectOverlayHidable);\n\n    const [errorLogsExpanded, setErrorLogsExpanded] = useState(false);\n    const errorLogsExpandedToggle = () => {\n        setErrorLogsExpanded(!errorLogsExpanded);\n    };\n\n    let info;\n    switch (licensingInfo?.type) {\n        case \"MHLM\":\n            info = {\n                label: `Online License Manager (${licensingInfo.emailAddress})`\n            };\n            break;\n        case \"NLM\":\n            info = {\n                label: `Network License Manager (${licensingInfo.connectionString})`\n            };\n            break;\n        default:\n            info = {\n                label: 'None'\n            };\n    }\n\n    const details = useSelector(selectInformationDetails);\n\n    const errorMessageNode = error ? (\n        <div className=\"error-container alert alert-danger\">\n            <p><strong>Error</strong></p>\n            <Linkify>\n                <div className=\"error-text\">{error.message}</div>\n            </Linkify>\n        </div>\n    ) : null;\n\n    const errorLogsNode = (error && error.logs !== null && error.logs.length > 0) ? (\n        <div className=\"expand_collapse error-logs-container\">\n            <h4 className={`expand_trigger ${errorLogsExpanded ? 'expanded' : 'collapsed'}`}\n                onClick={errorLogsExpandedToggle}>\n                <span className=\"icon-arrow-open-down\"></span>\n                <span className=\"icon-arrow-open-right\"></span>\n                Error logs\n            </h4>\n            <div id=\"error-logs\"\n                className={`expand_target error-container alert alert-danger ${errorLogsExpanded ? 'expanded' : 'collapsed'}`}\n                aria-expanded={errorLogsExpanded}>\n                <Linkify>\n                    <div className=\"error-msg\">{error.logs.join('\\n').trim()}</div>\n                </Linkify>\n            </div>\n        </div>\n    ) : null;\n\n    const onCloseClick = event => {\n        if(event.target === event.currentTarget) {\n            event.preventDefault();\n            closeHandler();\n        }\n    };\n\n    return (\n        <div className=\"modal show\"\n            id=\"information\"\n            onClick={overlayHidable ? onCloseClick : null}\n            tabIndex=\"-1\"\n            role=\"dialog\"\n            aria-labelledby=\"information-dialog-title\">\n            <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div className={`modal-content alert alert-${details.alert}`}>\n                    <div className=\"modal-header\">\n                        {\n                            overlayHidable && (\n                                <button\n                                    type=\"button\"\n                                    className=\"close\"\n                                    data-dismiss=\"modal\"\n                                    aria-label=\"Close\"\n                                    onClick={closeHandler}>\n                                    <span aria-hidden=\"true\">&times;</span>\n                                </button>\n                            )\n                        }\n                        <span className={`alert_icon icon-alert-${details.icon}`}/>\n                        <h4 className=\"modal-title alert_heading\" id=\"information-dialog-title\">Status Information</h4>\n                    </div >\n                    <div className=\"modal-body\">\n                        <table className=\"details\">\n                            <tbody>\n                                <tr>\n                                    <td>MATLAB Status:</td>\n                                    <td>\n                                        <span id=\"spinner\"\n                                            className={details.spinner ? 'show' : 'hidden'}\n                                        ></span>\n                                        {details.label}\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>Licensing:</td>\n                                    <td>{info.label}</td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        {errorMessageNode}\n                        {errorLogsNode}\n                    </div>\n                    <div className=\"modal-footer\">\n                        {children}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nInformation.propTypes = {\n    closeHandler: PropTypes.func.isRequired\n};\n\nexport default Information;\n"]},"metadata":{},"sourceType":"module"}