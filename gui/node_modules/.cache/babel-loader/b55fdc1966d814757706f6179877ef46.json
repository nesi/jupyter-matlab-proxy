{"ast":null,"code":"// Copyright 2020 The MathWorks, Inc.\nimport { combineReducers } from 'redux'; // ACTIONS\n\nimport { SET_TRIGGER_POSITION, SET_TUTORIAL_HIDDEN, SET_OVERLAY_VISIBILITY, REQUEST_SERVER_STATUS, RECEIVE_SERVER_STATUS, REQUEST_SET_LICENSING, REQUEST_TERMINATE_INTEGRATION, REQUEST_STOP_MATLAB, REQUEST_START_MATLAB, RECEIVE_SET_LICENSING, RECEIVE_TERMINATE_INTEGRATION, RECEIVE_STOP_MATLAB, RECEIVE_START_MATLAB, RECEIVE_ERROR } from '../actions';\nexport function triggerPosition(state = {\n  x: window.innerWidth / 2 + 27,\n  y: 0\n}, action) {\n  switch (action.type) {\n    case SET_TRIGGER_POSITION:\n      return {\n        x: action.x,\n        y: action.y\n      };\n\n    default:\n      return state;\n  }\n}\nexport function tutorialHidden(state = false, action) {\n  switch (action.type) {\n    case SET_TUTORIAL_HIDDEN:\n      return action.hidden;\n\n    default:\n      return state;\n  }\n}\nexport function overlayVisibility(state = false, action) {\n  switch (action.type) {\n    case SET_OVERLAY_VISIBILITY:\n      return action.visibility;\n\n    case RECEIVE_SERVER_STATUS:\n      if (action.previousMatlabPending === true && action.status.matlab.status === \"up\") return false;\n    // fall through\n\n    default:\n      return state;\n  }\n}\nexport function licensingInfo(state = {}, action) {\n  switch (action.type) {\n    case RECEIVE_SERVER_STATUS:\n    case RECEIVE_SET_LICENSING:\n    case RECEIVE_TERMINATE_INTEGRATION:\n    case RECEIVE_STOP_MATLAB:\n    case RECEIVE_START_MATLAB:\n      return { ...action.status.licensing\n      };\n\n    default:\n      return state;\n  }\n}\nexport function matlabStatus(state = 'down', action) {\n  switch (action.type) {\n    case RECEIVE_SERVER_STATUS:\n    case RECEIVE_SET_LICENSING:\n    case RECEIVE_TERMINATE_INTEGRATION:\n    case RECEIVE_STOP_MATLAB:\n    case RECEIVE_START_MATLAB:\n      return action.status.matlab.status;\n\n    default:\n      return state;\n  }\n}\nexport function matlabVersion(state = null, action) {\n  switch (action.type) {\n    case RECEIVE_SERVER_STATUS:\n    case RECEIVE_SET_LICENSING:\n    case RECEIVE_TERMINATE_INTEGRATION:\n    case RECEIVE_STOP_MATLAB:\n    case RECEIVE_START_MATLAB:\n      return action.status.matlab.version;\n\n    default:\n      return state;\n  }\n}\nexport function isFetching(state = false, action) {\n  switch (action.type) {\n    case REQUEST_SERVER_STATUS:\n    case REQUEST_SET_LICENSING:\n    case REQUEST_TERMINATE_INTEGRATION:\n    case REQUEST_STOP_MATLAB:\n    case REQUEST_START_MATLAB:\n      return true;\n\n    case RECEIVE_SERVER_STATUS:\n    case RECEIVE_SET_LICENSING:\n    case RECEIVE_TERMINATE_INTEGRATION:\n    case RECEIVE_STOP_MATLAB:\n    case RECEIVE_START_MATLAB:\n    case RECEIVE_ERROR:\n      return false;\n\n    default:\n      return state;\n  }\n}\nexport function hasFetched(state = false, action) {\n  switch (action.type) {\n    case RECEIVE_SERVER_STATUS:\n    case RECEIVE_SET_LICENSING:\n    case RECEIVE_TERMINATE_INTEGRATION:\n    case RECEIVE_STOP_MATLAB:\n    case RECEIVE_START_MATLAB:\n      return true;\n\n    default:\n      return state;\n  }\n}\nexport function isSubmitting(state = false, action) {\n  switch (action.type) {\n    case REQUEST_SET_LICENSING:\n    case REQUEST_TERMINATE_INTEGRATION:\n    case REQUEST_STOP_MATLAB:\n    case REQUEST_START_MATLAB:\n      return true;\n\n    case RECEIVE_SET_LICENSING:\n    case RECEIVE_TERMINATE_INTEGRATION:\n    case RECEIVE_STOP_MATLAB:\n    case RECEIVE_START_MATLAB:\n    case RECEIVE_ERROR:\n      return false;\n\n    default:\n      return state;\n  }\n}\nexport function fetchAbortController(state = new AbortController(), action) {\n  switch (action.type) {\n    case REQUEST_SERVER_STATUS:\n    case REQUEST_SET_LICENSING:\n    case REQUEST_TERMINATE_INTEGRATION:\n    case REQUEST_STOP_MATLAB:\n    case REQUEST_START_MATLAB:\n      return action.fetchAbortController;\n\n    default:\n      return state;\n  }\n}\nexport function fetchFailCount(state = 0, action) {\n  switch (action.type) {\n    case RECEIVE_SERVER_STATUS:\n    case RECEIVE_SET_LICENSING:\n    case RECEIVE_TERMINATE_INTEGRATION:\n    case RECEIVE_STOP_MATLAB:\n    case RECEIVE_START_MATLAB:\n      return 0;\n\n    case RECEIVE_ERROR:\n      return state + 1;\n\n    default:\n      return state;\n  }\n}\nexport function loadUrl(state = null, action) {\n  switch (action.type) {\n    case RECEIVE_TERMINATE_INTEGRATION:\n      return action.loadUrl;\n\n    default:\n      return state;\n  }\n}\nexport function error(state = null, action) {\n  switch (action.type) {\n    case RECEIVE_ERROR:\n      return {\n        message: action.error,\n        logs: null\n      };\n\n    case RECEIVE_SERVER_STATUS:\n    case RECEIVE_SET_LICENSING:\n    case RECEIVE_TERMINATE_INTEGRATION:\n    case RECEIVE_STOP_MATLAB:\n    case RECEIVE_START_MATLAB:\n      return action.status.error ? {\n        message: action.status.error.message,\n        logs: action.status.error.logs,\n        type: action.status.error.type\n      } : null;\n\n    default:\n      return state;\n  }\n}\nexport const serverStatus = combineReducers({\n  licensingInfo,\n  matlabStatus,\n  matlabVersion,\n  isFetching,\n  hasFetched,\n  isSubmitting,\n  fetchAbortController,\n  fetchFailCount\n});\nexport default combineReducers({\n  triggerPosition,\n  tutorialHidden,\n  overlayVisibility,\n  serverStatus,\n  loadUrl,\n  error\n});","map":{"version":3,"sources":["/scale_wlg_persistent/filesets/project/nesi99999/Callum/jupyter-matlab-proxy/gui/src/reducers/index.js"],"names":["combineReducers","SET_TRIGGER_POSITION","SET_TUTORIAL_HIDDEN","SET_OVERLAY_VISIBILITY","REQUEST_SERVER_STATUS","RECEIVE_SERVER_STATUS","REQUEST_SET_LICENSING","REQUEST_TERMINATE_INTEGRATION","REQUEST_STOP_MATLAB","REQUEST_START_MATLAB","RECEIVE_SET_LICENSING","RECEIVE_TERMINATE_INTEGRATION","RECEIVE_STOP_MATLAB","RECEIVE_START_MATLAB","RECEIVE_ERROR","triggerPosition","state","x","window","innerWidth","y","action","type","tutorialHidden","hidden","overlayVisibility","visibility","previousMatlabPending","status","matlab","licensingInfo","licensing","matlabStatus","matlabVersion","version","isFetching","hasFetched","isSubmitting","fetchAbortController","AbortController","fetchFailCount","loadUrl","error","message","logs","serverStatus"],"mappings":"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","sourcesContent":["// Copyright 2020 The MathWorks, Inc.\n\nimport { combineReducers } from 'redux';\n\n// ACTIONS\nimport {\n    SET_TRIGGER_POSITION,\n    SET_TUTORIAL_HIDDEN,\n    SET_OVERLAY_VISIBILITY,\n    REQUEST_SERVER_STATUS,\n    RECEIVE_SERVER_STATUS,\n    REQUEST_SET_LICENSING,\n    REQUEST_TERMINATE_INTEGRATION,\n    REQUEST_STOP_MATLAB,\n    REQUEST_START_MATLAB,\n    RECEIVE_SET_LICENSING,\n    RECEIVE_TERMINATE_INTEGRATION,\n    RECEIVE_STOP_MATLAB,\n    RECEIVE_START_MATLAB,\n    RECEIVE_ERROR\n} from '../actions';\n\nexport function triggerPosition(state={x: window.innerWidth / 2 + 27, y: 0}, action) {\n    switch (action.type) {\n        case SET_TRIGGER_POSITION:\n            return {x: action.x, y: action.y};\n        default:\n            return state;\n    }\n}\n\nexport function tutorialHidden(state=false, action) {\n    switch (action.type) {\n        case SET_TUTORIAL_HIDDEN:\n            return action.hidden;\n        default:\n            return state;\n    }\n}\n\nexport function overlayVisibility(state = false, action) {\n    switch (action.type) {\n        case SET_OVERLAY_VISIBILITY:\n            return action.visibility;\n        case RECEIVE_SERVER_STATUS:\n            if (\n                action.previousMatlabPending === true\n                && action.status.matlab.status === \"up\"\n            ) return false;\n            // fall through\n        default:\n            return state;\n    }\n}\n\nexport function licensingInfo(state = {}, action) {\n    switch (action.type) {\n        case RECEIVE_SERVER_STATUS:\n        case RECEIVE_SET_LICENSING:\n        case RECEIVE_TERMINATE_INTEGRATION:\n        case RECEIVE_STOP_MATLAB:\n        case RECEIVE_START_MATLAB:\n            return {\n                ...action.status.licensing\n            };\n        default:\n            return state;\n    }\n}\n\nexport function matlabStatus(state = 'down', action) {\n    switch (action.type) {\n        case RECEIVE_SERVER_STATUS:\n        case RECEIVE_SET_LICENSING:\n        case RECEIVE_TERMINATE_INTEGRATION:\n        case RECEIVE_STOP_MATLAB:\n        case RECEIVE_START_MATLAB:\n            return action.status.matlab.status;\n        default:\n            return state;\n    }\n}\n\nexport function matlabVersion(state=null, action) {\n    switch (action.type) {\n        case RECEIVE_SERVER_STATUS:\n        case RECEIVE_SET_LICENSING:\n        case RECEIVE_TERMINATE_INTEGRATION:\n        case RECEIVE_STOP_MATLAB:\n        case RECEIVE_START_MATLAB:\n            return action.status.matlab.version;\n        default:\n            return state;\n    }\n}\n\nexport function isFetching(state = false, action) {\n    switch (action.type) {\n        case REQUEST_SERVER_STATUS:\n        case REQUEST_SET_LICENSING:\n        case REQUEST_TERMINATE_INTEGRATION:\n        case REQUEST_STOP_MATLAB:\n        case REQUEST_START_MATLAB:\n            return true;\n        case RECEIVE_SERVER_STATUS:\n        case RECEIVE_SET_LICENSING:\n        case RECEIVE_TERMINATE_INTEGRATION:\n        case RECEIVE_STOP_MATLAB:\n        case RECEIVE_START_MATLAB:\n        case RECEIVE_ERROR:\n            return false;\n        default:\n            return state;\n    }\n}\n\nexport function hasFetched(state = false, action) {\n    switch (action.type) {\n        case RECEIVE_SERVER_STATUS:\n        case RECEIVE_SET_LICENSING:\n        case RECEIVE_TERMINATE_INTEGRATION:\n        case RECEIVE_STOP_MATLAB:\n        case RECEIVE_START_MATLAB:\n            return true;\n        default:\n            return state;\n    }\n}\n\nexport function isSubmitting(state = false, action) {\n    switch (action.type) {\n        case REQUEST_SET_LICENSING:\n        case REQUEST_TERMINATE_INTEGRATION:\n        case REQUEST_STOP_MATLAB:\n        case REQUEST_START_MATLAB:\n            return true;\n        case RECEIVE_SET_LICENSING:\n        case RECEIVE_TERMINATE_INTEGRATION:\n        case RECEIVE_STOP_MATLAB:\n        case RECEIVE_START_MATLAB:\n        case RECEIVE_ERROR:\n            return false;\n        default:\n            return state;\n    }\n}\n\nexport function fetchAbortController(state = new AbortController(), action) {\n    switch (action.type) {\n        case REQUEST_SERVER_STATUS:\n        case REQUEST_SET_LICENSING:\n        case REQUEST_TERMINATE_INTEGRATION:\n        case REQUEST_STOP_MATLAB:\n        case REQUEST_START_MATLAB:\n            return action.fetchAbortController;\n        default:\n            return state;\n    }\n}\n\nexport function fetchFailCount(state = 0, action) {\n    switch (action.type) {\n        case RECEIVE_SERVER_STATUS:\n        case RECEIVE_SET_LICENSING:\n        case RECEIVE_TERMINATE_INTEGRATION:\n        case RECEIVE_STOP_MATLAB:\n        case RECEIVE_START_MATLAB:\n            return 0;\n        case RECEIVE_ERROR:\n            return state + 1;\n        default:\n            return state;\n\n    }\n}\n\nexport function loadUrl(state = null, action) {\n    switch (action.type) {\n        case RECEIVE_TERMINATE_INTEGRATION:\n            return action.loadUrl;\n        default:\n            return state;\n    }\n}\n\nexport function error(state = null, action) {\n    switch (action.type) {\n        case RECEIVE_ERROR:\n            return {\n                message: action.error,\n                logs: null\n            };\n        case RECEIVE_SERVER_STATUS:\n        case RECEIVE_SET_LICENSING:\n        case RECEIVE_TERMINATE_INTEGRATION:\n        case RECEIVE_STOP_MATLAB:\n        case RECEIVE_START_MATLAB:\n            return action.status.error ? {\n                message: action.status.error.message,\n                logs: action.status.error.logs,\n                type: action.status.error.type\n            } : null;\n        default:\n            return state;\n    }\n}\n\nexport const serverStatus = combineReducers({\n    licensingInfo,\n    matlabStatus,\n    matlabVersion,\n    isFetching,\n    hasFetched,\n    isSubmitting,\n    fetchAbortController,\n    fetchFailCount\n});\n\nexport default combineReducers({\n    triggerPosition,\n    tutorialHidden,\n    overlayVisibility,\n    serverStatus,\n    loadUrl,\n    error\n});"]},"metadata":{},"sourceType":"module"}